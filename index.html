<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Countdown</title>
</head>
<body>
    <div class="section-center">
        <article class="gift-img">
            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRjyyHlzA2fxNskGtQf8L3Acs3GO8DBG8tJjA&usqp=CAU" alt="iphone image">
        </article>
        <article class="gift-info">
            <h2>Old iphone giveaway</h2>
            <h3 class="giveaway">giveaway ends on sunday, 24th april 2020, 8:00am</h3>
            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab, doloribus. Eos consectetur quidem culpa quos id quam doloribus, quisquam suscipit maiores, delectus totam dicta cupiditate fuga! Minus suscipit quos quibusdam.</p>
            <div class="deadline">
                <div class="deadline-format">
                    <div>
                        <div class="time days">34</div>
                        <span>Days</span>
                    </div>
                </div>

                <div class="deadline-format">
                    <div>
                        <div class="time hours">24</div>
                        <span>hour</span>
                    </div>
                </div>

                <div class="deadline-format">
                    <div>
                        <div class="time mins">34</div>
                        <span>mins</span>
                    </div>
                </div>

                <div class="deadline-format">
                    <div>
                        <div class="time secs">34</div>
                        <span>secs</span>
                    </div>
                </div>
            </div>
        </article>

    </div>







    <script>

        let month = [
            "January", "Febrary", "march", "april" , "may", "june" , "July", "august", "september", "october", "november", "december"
        ];

        let weekday = [
            "monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"
        ];

        const giveaway = document.querySelector(".giveaway");
        const deadline = document.querySelector(".deadline");
        const time = document.querySelectorAll(".time");

        let futureDate = new Date(2022,4,25,15,30,0);
        console.log(futureDate);

        const year = futureDate.getFullYear();
        const hours = futureDate.getHours();
        const minutes = futureDate.getMinutes();
        let months = futureDate.getMonth();
        months = month[months];
        const date = futureDate.getDate();
        let weekdays =futureDate.getDay();
        weekdays = weekday[weekdays];

        giveaway.innerHTML = `giveaway ends on ${weekdays}, ${date} ${months} ${year} ${hours}:${minutes}`;

        const futureTime = futureDate.getTime();

        function getRemainingTime(){
            const today = new Date().getTime();
            const diff = futureTime - today;


            const oneDay = 24*60*60*1000;
            const oneHour = 60*60*1000;
            const oneMinute = 60*1000;

            let days = Math.floor(diff/oneDay);
            let hours = Math.floor((diff%oneDay)/oneHour);
            let minutes = Math.floor((diff%oneHour)/oneMinute);
            let seconds = Math.floor((diff%oneMinute)/1000);

            const values = [days,hours,minutes,seconds];

            function format(item){
                if(item<10){
                    return item = `0${item}`;
                }
                return item;
            }

            time.forEach(function(item,index){
                item.innerHTML = format(values[index]);
            });

            if(diff<0){
                clearInterval(countdown);
                deadline.innerHTML = `<div class="expired">Sorry, the giveaway has expired</div>`
            }
        }

        let countdown = setInterval(getRemainingTime,1000);
        getRemainingTime();
    </script>
</body>
</html>